var jt=Object.defineProperty,St=Object.defineProperties;var $t=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var Ot=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable;var V=(t,e,n)=>e in t?jt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z=(t,e)=>{for(var n in e||(e={}))Ot.call(e,n)&&V(t,n,e[n]);if(Q)for(var n of Q(e))At.call(e,n)&&V(t,n,e[n]);return t},tt=(t,e)=>St(t,$t(e));function w(){}function Y(t,e){for(const n in e)t[n]=e[n];return t}function et(t){return t()}function nt(){return Object.create(null)}function j(t){t.forEach(et)}function M(t){return typeof t=="function"}function rt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let R;function Gt(t,e){return R||(R=document.createElement("a")),R.href=e,t===R.href}function Lt(t){return Object.keys(t).length===0}function st(t,...e){if(t==null)return w;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Jt(t,e,n){t.$$.on_destroy.push(st(e,n))}function Kt(t,e,n,r){if(t){const i=ot(t,e,n,r);return t[0](i)}}function ot(t,e,n,r){return t[1]&&r?Y(n.ctx.slice(),t[1](r(e))):n.ctx}function Qt(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const u=[],l=Math.max(e.dirty.length,i.length);for(let s=0;s<l;s+=1)u[s]=e.dirty[s]|i[s];return u}return e.dirty|i}return e.dirty}function Vt(t,e,n,r,i,u){if(i){const l=ot(e,n,r,u);t.p(l,i)}}function Zt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function te(t){return t==null?"":t}function ee(t){return t&&M(t.destroy)?t.destroy:w}function ne(t,e){t.appendChild(e)}function X(t,e,n){t.insertBefore(e,n||null)}function D(t){t.parentNode.removeChild(t)}function re(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function se(t){return document.createElement(t)}function it(t){return document.createTextNode(t)}function oe(){return it(" ")}function B(){return it("")}function ie(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function ce(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ct(t){return Array.from(t.childNodes)}function ue(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function le(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function qt(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}let O;function A(t){O=t}function F(){if(!O)throw new Error("Function called outside component initialization");return O}function Nt(t){F().$$.after_update.push(t)}function Rt(t){F().$$.on_destroy.push(t)}function Dt(){const t=F();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=qt(e,n);r.slice().forEach(u=>{u.call(t,i)})}}}function ct(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const L=[],ut=[],P=[],lt=[],ft=Promise.resolve();let H=!1;function at(){H||(H=!0,ft.then(ht))}function Pt(){return at(),ft}function U(t){P.push(t)}const W=new Set;let T=0;function ht(){const t=O;do{for(;T<L.length;){const e=L[T];T++,A(e),Tt(e.$$)}for(A(null),L.length=0,T=0;ut.length;)ut.pop()();for(let e=0;e<P.length;e+=1){const n=P[e];W.has(n)||(W.add(n),n())}P.length=0}while(L.length);for(;lt.length;)lt.pop()();H=!1,W.clear(),A(t)}function Tt(t){if(t.fragment!==null){t.update(),j(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const I=new Set;let E;function G(){E={r:0,c:[],p:E}}function J(){E.r||j(E.c),E=E.p}function x(t,e){t&&t.i&&(I.delete(t),t.i(e))}function S(t,e,n,r){if(t&&t.o){if(I.has(t))return;I.add(t),E.c.push(()=>{I.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function _t(t,e){const n={},r={},i={$$scope:1};let u=t.length;for(;u--;){const l=t[u],s=e[u];if(s){for(const o in l)o in s||(r[o]=1);for(const o in s)i[o]||(n[o]=s[o],i[o]=1);t[u]=s}else for(const o in l)i[o]=1}for(const l in r)l in n||(n[l]=void 0);return n}function dt(t){return typeof t=="object"&&t!==null?t:{}}function z(t){t&&t.c()}function C(t,e,n,r){const{fragment:i,on_mount:u,on_destroy:l,after_update:s}=t.$$;i&&i.m(e,n),r||U(()=>{const o=u.map(et).filter(M);l?l.push(...o):j(o),t.$$.on_mount=[]}),s.forEach(U)}function q(t,e){const n=t.$$;n.fragment!==null&&(j(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function It(t,e){t.$$.dirty[0]===-1&&(L.push(t),at(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function zt(t,e,n,r,i,u,l,s=[-1]){const o=O;A(t);const c=t.$$={fragment:null,ctx:null,props:u,update:w,not_equal:i,bound:nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:nt(),dirty:s,skip_bound:!1,root:e.target||o.$$.root};l&&l(c.root);let _=!1;if(c.ctx=n?n(t,e.props||{},(g,y,...d)=>{const m=d.length?d[0]:y;return c.ctx&&i(c.ctx[g],c.ctx[g]=m)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](m),_&&It(t,g)),y}):[],c.update(),_=!0,j(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const g=Ct(e.target);c.fragment&&c.fragment.l(g),g.forEach(D)}else c.fragment&&c.fragment.c();e.intro&&x(t.$$.fragment),C(t,e.target,e.anchor,e.customElement),ht()}A(o)}class Yt{$destroy(){q(this,1),this.$destroy=w}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Lt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const $=[];function pt(t,e){return{subscribe:gt(t,e).subscribe}}function gt(t,e=w){let n;const r=new Set;function i(s){if(rt(t,s)&&(t=s,n)){const o=!$.length;for(const c of r)c[1](),$.push(c,t);if(o){for(let c=0;c<$.length;c+=2)$[c][0]($[c+1]);$.length=0}}}function u(s){i(s(t))}function l(s,o=w){const c=[s,o];return r.add(c),r.size===1&&(n=e(i)||w),s(t),()=>{r.delete(c),r.size===0&&(n(),n=null)}}return{set:i,update:u,subscribe:l}}function mt(t,e,n){const r=!Array.isArray(t),i=r?[t]:t,u=e.length<2;return pt(n,l=>{let s=!1;const o=[];let c=0,_=w;const g=()=>{if(c)return;_();const d=e(r?o[0]:o,l);u?l(d):_=M(d)?d:w},y=i.map((d,m)=>st(d,N=>{o[m]=N,c&=~(1<<m),s&&g()},()=>{c|=1<<m}));return s=!0,g(),function(){j(y),_()}})}function Mt(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,u,l=[],s="",o=t.split("/");for(o[0]||o.shift();i=o.shift();)n=i[0],n==="*"?(l.push("wild"),s+="/(.*)"):n===":"?(r=i.indexOf("?",1),u=i.indexOf(".",1),l.push(i.substring(1,~r?r:~u?u:i.length)),s+=!!~r&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(s+=(~r?"?":"")+"\\"+i.substring(u))):s+="/"+i;return{keys:l,pattern:new RegExp("^"+s+(e?"(?=$|/)":"/?$"),"i")}}function Xt(t){let e,n,r;const i=[t[2]];var u=t[0];function l(s){let o={};for(let c=0;c<i.length;c+=1)o=Y(o,i[c]);return{props:o}}return u&&(e=new u(l()),e.$on("routeEvent",t[7])),{c(){e&&z(e.$$.fragment),n=B()},m(s,o){e&&C(e,s,o),X(s,n,o),r=!0},p(s,o){const c=o&4?_t(i,[dt(s[2])]):{};if(u!==(u=s[0])){if(e){G();const _=e;S(_.$$.fragment,1,0,()=>{q(_,1)}),J()}u?(e=new u(l()),e.$on("routeEvent",s[7]),z(e.$$.fragment),x(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else u&&e.$set(c)},i(s){r||(e&&x(e.$$.fragment,s),r=!0)},o(s){e&&S(e.$$.fragment,s),r=!1},d(s){s&&D(n),e&&q(e,s)}}}function Bt(t){let e,n,r;const i=[{params:t[1]},t[2]];var u=t[0];function l(s){let o={};for(let c=0;c<i.length;c+=1)o=Y(o,i[c]);return{props:o}}return u&&(e=new u(l()),e.$on("routeEvent",t[6])),{c(){e&&z(e.$$.fragment),n=B()},m(s,o){e&&C(e,s,o),X(s,n,o),r=!0},p(s,o){const c=o&6?_t(i,[o&2&&{params:s[1]},o&4&&dt(s[2])]):{};if(u!==(u=s[0])){if(e){G();const _=e;S(_.$$.fragment,1,0,()=>{q(_,1)}),J()}u?(e=new u(l()),e.$on("routeEvent",s[6]),z(e.$$.fragment),x(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}else u&&e.$set(c)},i(s){r||(e&&x(e.$$.fragment,s),r=!0)},o(s){e&&S(e.$$.fragment,s),r=!1},d(s){s&&D(n),e&&q(e,s)}}}function Ft(t){let e,n,r,i;const u=[Bt,Xt],l=[];function s(o,c){return o[1]?0:1}return e=s(t),n=l[e]=u[e](t),{c(){n.c(),r=B()},m(o,c){l[e].m(o,c),X(o,r,c),i=!0},p(o,[c]){let _=e;e=s(o),e===_?l[e].p(o,c):(G(),S(l[_],1,1,()=>{l[_]=null}),J(),n=l[e],n?n.p(o,c):(n=l[e]=u[e](o),n.c()),x(n,1),n.m(r.parentNode,r))},i(o){i||(x(n),i=!0)},o(o){S(n),i=!1},d(o){l[e].d(o),o&&D(r)}}}function bt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const K=pt(null,function(e){e(bt());const n=()=>{e(bt())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});mt(K,t=>t.location);mt(K,t=>t.querystring);const yt=gt(void 0);function fe(t,e){if(e=kt(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return wt(t,e),{update(n){n=kt(n),wt(t,n)}}}function wt(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",r=>{r.preventDefault(),e.disabled||Ht(r.currentTarget.getAttribute("href"))})}function kt(t){return t&&typeof t=="string"?{href:t}:t||{}}function Ht(t){history.replaceState(tt(Z({},history.state),{__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY}),void 0,void 0),window.location.hash=t}function Ut(t,e,n){let{routes:r={}}=e,{prefix:i=""}=e,{restoreScrollState:u=!1}=e;class l{constructor(f,a){if(!a||typeof a!="function"&&(typeof a!="object"||a._sveltesparouter!==!0))throw Error("Invalid component object");if(!f||typeof f=="string"&&(f.length<1||f.charAt(0)!="/"&&f.charAt(0)!="*")||typeof f=="object"&&!(f instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:b,keys:p}=Mt(f);this.path=f,typeof a=="object"&&a._sveltesparouter===!0?(this.component=a.component,this.conditions=a.conditions||[],this.userData=a.userData,this.props=a.props||{}):(this.component=()=>Promise.resolve(a),this.conditions=[],this.props={}),this._pattern=b,this._keys=p}match(f){if(i){if(typeof i=="string")if(f.startsWith(i))f=f.substr(i.length)||"/";else return null;else if(i instanceof RegExp){const k=f.match(i);if(k&&k[0])f=f.substr(k[0].length)||"/";else return null}}const a=this._pattern.exec(f);if(a===null)return null;if(this._keys===!1)return a;const b={};let p=0;for(;p<this._keys.length;){try{b[this._keys[p]]=decodeURIComponent(a[p+1]||"")||null}catch{b[this._keys[p]]=null}p++}return b}async checkConditions(f){for(let a=0;a<this.conditions.length;a++)if(!await this.conditions[a](f))return!1;return!0}}const s=[];r instanceof Map?r.forEach((h,f)=>{s.push(new l(f,h))}):Object.keys(r).forEach(h=>{s.push(new l(h,r[h]))});let o=null,c=null,_={};const g=Dt();async function y(h,f){await Pt(),g(h,f)}let d=null,m=null;u&&(m=h=>{h.state&&h.state.__svelte_spa_router_scrollY?d=h.state:d=null},window.addEventListener("popstate",m),Nt(()=>{d?window.scrollTo(d.__svelte_spa_router_scrollX,d.__svelte_spa_router_scrollY):window.scrollTo(0,0)}));let N=null,v=null;const Et=K.subscribe(async h=>{N=h;let f=0;for(;f<s.length;){const a=s[f].match(h.location);if(!a){f++;continue}const b={route:s[f].path,location:h.location,querystring:h.querystring,userData:s[f].userData,params:a&&typeof a=="object"&&Object.keys(a).length?a:null};if(!await s[f].checkConditions(b)){n(0,o=null),v=null,y("conditionsFailed",b);return}y("routeLoading",Object.assign({},b));const p=s[f].component;if(v!=p){p.loading?(n(0,o=p.loading),v=p,n(1,c=p.loadingParams),n(2,_={}),y("routeLoaded",Object.assign({},b,{component:o,name:o.name,params:c}))):(n(0,o=null),v=null);const k=await p();if(h!=N)return;n(0,o=k&&k.default||k),v=p}a&&typeof a=="object"&&Object.keys(a).length?n(1,c=a):n(1,c=null),n(2,_=s[f].props),y("routeLoaded",Object.assign({},b,{component:o,name:o.name,params:c})).then(()=>{yt.set(c)});return}n(0,o=null),v=null,yt.set(void 0)});Rt(()=>{Et(),m&&window.removeEventListener("popstate",m)});function xt(h){ct.call(this,t,h)}function vt(h){ct.call(this,t,h)}return t.$$set=h=>{"routes"in h&&n(3,r=h.routes),"prefix"in h&&n(4,i=h.prefix),"restoreScrollState"in h&&n(5,u=h.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=u?"manual":"auto")},[o,c,_,r,i,u,xt,vt]}class ae extends Yt{constructor(e){super();zt(this,e,Ut,Ft,rt,{routes:3,prefix:4,restoreScrollState:5})}}export{q as A,le as B,Jt as C,fe as D,ae as R,Yt as S,ce as a,Gt as b,X as c,ne as d,se as e,ee as f,w as g,D as h,zt as i,Kt as j,Zt as k,Qt as l,S as m,te as n,ie as o,oe as p,M as q,it as r,rt as s,x as t,Vt as u,ue as v,gt as w,re as x,z as y,C as z};
